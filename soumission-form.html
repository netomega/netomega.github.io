<!doctype html>
<html lang="fr" data-bs-theme="auto">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Netomega</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="assets/css/styles.css" rel="stylesheet">

    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
</head>

<body>
     <main class="container mb-5">
            <!-- En-tête -->
            <div class="text-center">
                <img class="img-fluid col-6" style="max-height: 200px; width: auto;" src="assets/img/femme_avec formulaire.png"
                    alt="Illustration – Demande de soumission" />
                <h2 class="h2 mt-3">Demande de soumission</h2>
                <p>Remplissez ce formulaire – nous vous contacterons rapidement avec une estimation.</p>
            </div>

            <div class="row g-5 justify-content-center">
                <div class="col-md-10 col-lg-8">
                    <!-- ✅ Formulaire NetOmega -->
                    <form id="quoteForm" class="needs-validation" novalidate action="https://formspree.io/f/mrbpjgrk"
                        method="POST" role="form" autocomplete="on">

                        <!-- Honeypot anti-spam -->
                        <input type="text" name="company_website" class="d-none" tabindex="-1" autocomplete="off">

                        <!-- Coordonnées -->
                        <div class="row g-3">
                            <h6 class="mb-2">Informations du demandeur</h6>

                            <div class="col-sm-6">
                                <label for="fullName" class="form-label">Nom complet</label>
                                <input type="text" class="form-control form-control-sm" id="fullName" name="name"
                                    placeholder="Votre nom" required>
                                <div class="invalid-feedback">Indiquez votre nom complet.</div>
                            </div>

                            <div class="col-sm-6">
                                <label for="email" class="form-label">Courriel</label>
                                <input type="email" class="form-control form-control-sm" id="email" name="email"
                                    placeholder="vous@exemple.ca" required>
                                <div class="invalid-feedback">Entrez un courriel valide.</div>
                            </div>

                            <div class="col-sm-6">
                                <label for="phone" class="form-label">Téléphone</label>
                                <input type="tel" class="form-control form-control-sm" id="phone" name="phone"
                                    placeholder="(581) 481-5958" pattern="^[0-9()+.\-\s]{7,}$" required>
                                <div class="invalid-feedback">Entrez un numéro valide.</div>
                            </div>

                            <div class="col-sm-6">
                                <label for="company" class="form-label">Entreprise <span
                                        class="text-body-secondary">(optionnel)</span></label>
                                <input type="text" class="form-control form-control-sm" id="company" name="company"
                                    placeholder="Nom de l’entreprise">
                            </div>
                        </div>

                        <hr class="my-4">

                        <!-- Adresse (Canada) -->
                        <div class="row g-3">
                            <h6 class="mb-2">Adresse de l’intervention</h6>

                            <div class="col-12">
                                <label for="address" class="form-label">Adresse</label>
                                <input type="text" class="form-control form-control-sm" id="address" name="address"
                                    placeholder="No et rue" required autocomplete="street-address">
                                <div class="invalid-feedback">Indiquez l’adresse.</div>
                            </div>

                            <div class="col-md-6">
                                <label for="city" class="form-label">Ville</label>
                                <input type="text" class="form-control form-control-sm" id="city" name="city" required>
                                <div class="invalid-feedback">Indiquez la ville.</div>
                            </div>

                            <div class="col-md-3">
                                <label for="province" class="form-label">Province</label>
                                <select class="form-select form-select-sm" id="province" name="province" required>
                                    <option value="" selected disabled>Choisir…</option>
                                    <option>QC</option>
                                    <option>ON</option>
                                    <option>BC</option>
                                    <option>AB</option>
                                    <option>MB</option>
                                    <option>SK</option>
                                    <option>NB</option>
                                    <option>NS</option>
                                    <option>PE</option>
                                    <option>NL</option>
                                    <option>YT</option>
                                    <option>NT</option>
                                    <option>NU</option>
                                </select>
                                <div class="invalid-feedback">Sélectionnez la province.</div>
                            </div>

                            <div class="col-md-3">
                                <label for="postal" class="form-label">Code postal</label>
                                <input type="text" class="form-control form-control-sm" id="postal" name="postal"
                                    placeholder="G1K 7P4" pattern="^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$" required
                                    autocomplete="postal-code">
                                <div class="invalid-feedback">Code postal canadien valide requis (ex. G1K 7P4).</div>
                            </div>
                        </div>

                        <hr class="my-4">

                        <!-- Besoins -->
                        <div class="row g-3">
                            <h6 class="mb-2">Votre besoin</h6>

                            <div class="col-md-6">
                                <label for="spaceType" class="form-label">Type d’espace</label>
                                <select class="form-select form-select-sm" id="spaceType" name="space_type" required>
                                    <option value="" selected disabled>Choisir…</option>
                                    <option>Bureau</option>
                                    <option>Commerce</option>
                                    <option>Résidentiel</option>
                                    <option>Industriel</option>
                                    <option>Clinique / Pharmacie</option>
                                </select>
                                <div class="invalid-feedback">Sélectionnez une option.</div>
                            </div>

                            <div class="col-md-6">
                                <label for="frequency" class="form-label">Fréquence</label>
                                <select class="form-select form-select-sm" id="frequency" name="frequency" required>
                                    <option value="" selected disabled>Choisir…</option>
                                    <option>Unique</option>
                                    <option>Hebdomadaire</option>
                                    <option>Bi-hebdomadaire</option>
                                    <option>Mensuelle</option>
                                    <option>Personnalisée</option>
                                </select>
                                <div class="invalid-feedback">Sélectionnez la fréquence.</div>
                            </div>

                            <div class="col-md-6">
                                <label for="area" class="form-label">Superficie estimée</label>
                                <div class="input-group input-group-sm">
                                    <input type="number" class="form-control" id="area" name="area" min="10" step="1"
                                        placeholder="ex. 450" required inputmode="numeric">
                                    <span class="input-group-text">m²</span>
                                </div>
                                <div class="form-text">Si vous ne savez pas, mettez une estimation.</div>
                                <div class="invalid-feedback">Indiquez la superficie (m²).</div>
                            </div>

                            <div class="col-md-6">
                                <label class="form-label d-block">Services souhaités</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="srv1" name="services[]"
                                        value="Entretien régulier">
                                    <label class="form-check-label" for="srv1">Entretien régulier</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="srv2" name="services[]"
                                        value="Grand ménage">
                                    <label class="form-check-label" for="srv2">Grand ménage</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="srv3" name="services[]"
                                        value="Lavage de vitres">
                                    <label class="form-check-label" for="srv3">Lavage de vitres</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="srv4" name="services[]"
                                        value="Planchers (auto-laveuse)">
                                    <label class="form-check-label" for="srv4">Planchers (auto-laveuse)</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="srv5" name="services[]"
                                        value="Désinfection">
                                    <label class="form-check-label" for="srv5">Désinfection</label>
                                </div>
                                <div class="invalid-feedback d-block" id="servicesFeedback" style="display:none">
                                    Cochez au moins un service.
                                </div>
                            </div>
                        </div>

                        <hr class="my-4">

                        <!-- Disponibilités & message -->
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="visitDate" class="form-label">Disponibilité (date)</label>
                                <input type="date" class="form-control form-control-sm" id="visitDate"
                                    name="visit_date">
                            </div>

                            <div class="col-md-6">
                                <label for="visitTime" class="form-label">Plage horaire</label>
                                <input type="time" class="form-control form-control-sm" id="visitTime"
                                    name="visit_time">
                            </div>

                            <div class="col-12">
                                <label for="message" class="form-label">Détails / particularités</label>
                                <textarea class="form-control form-control-sm" id="message" name="message" rows="4"
                                    placeholder="Ex. : zones à priorité, accès, contraintes, etc." required></textarea>
                                <div class="invalid-feedback">Écrivez un message.</div>
                            </div>

                            <div class="col-12">
                                <label for="attachment" class="form-label">Ajouter un fichier (plans, photos)</label>
                                <input class="form-control form-control-sm" type="file" id="attachment"
                                    name="attachment" accept=".jpg,.jpeg,.png,.pdf">
                            </div>

                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="1" id="consent"
                                        name="consent" required>
                                    <label class="form-check-label" for="consent">
                                        J’autorise NetOmega à me contacter au sujet de cette demande.
                                    </label>
                                    <div class="invalid-feedback">Veuillez cocher pour continuer.</div>
                                </div>
                            </div>
                        </div>

                        <hr class="my-4">

                        <button class="w-100 btn btn-primary btn-lg" type="submit">
                            Envoyer la demande
                        </button>
                    </form>
                </div>
            </div>



        </main>
    
        <footer
            class=" container col-12 col-xl-7 col-xxl-6 d-flex flex-wrap justify-content-center align-items-center py-2 text-body-secondary">
            <span class="">&copy; 2025 Nettoyage Omega.</span>
        </footer>
    <script>
        (() => {
            const form = document.getElementById('quoteForm');
            const servicesFeedback = document.getElementById('servicesFeedback');

            function atLeastOneServiceChecked() {
                return !!form.querySelector('input[name="services[]"]:checked');
            }

            form.addEventListener('submit', (e) => {
                // Honeypot
                const honey = form.querySelector('input[name="company_website"]');
                if (honey && honey.value.trim() !== "") {
                    e.preventDefault();
                    return; // bot
                }

                // Au moins 1 service coché (facultatif, mais conseillé)
                if (!atLeastOneServiceChecked()) {
                    servicesFeedback.style.display = 'block';
                } else {
                    servicesFeedback.style.display = 'none';
                }

                if (!form.checkValidity() || !atLeastOneServiceChecked()) {
                    e.preventDefault();
                    e.stopPropagation();
                }

                form.classList.add('was-validated');
            }, false);
        })();
    </script>
</body>

</html>